@prefix csvw: <http://www.w3.org/ns/csvw#> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix qb: <http://purl.org/linked-data/cube#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix void: <http://rdfs.org/ns/void#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<file:///workspaces/csvcubed/out/some-title.csv#class/dimension-1> a rdfs:Class,
        rdfs:Resource .

<file:///workspaces/csvcubed/out/some-title.csv#class/dimension-2> a rdfs:Class,
        rdfs:Resource .

<file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1/estimated> a rdfs:Resource ;
    rdfs:label "Estimated"@en .

<file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1/final> a rdfs:Resource ;
    rdfs:label "Final"@en .

<file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1/provisional> a rdfs:Resource ;
    rdfs:label "Provisional"@en .

<file:///workspaces/csvcubed/out/some-title.csv#dependency/dimension-1> a void:Dataset,
        rdfs:Resource ;
    void:dataDump <file:///workspaces/csvcubed/out/dimension-1.csv-metadata.json> ;
    void:uriSpace "dimension-1.csv#" .

<file:///workspaces/csvcubed/out/some-title.csv#dependency/dimension-2> a void:Dataset,
        rdfs:Resource ;
    void:dataDump <file:///workspaces/csvcubed/out/dimension-2.csv-metadata.json> ;
    void:uriSpace "dimension-2.csv#" .

<file:///workspaces/csvcubed/out/some-title.csv#unit/some-unit> a <http://qudt.org/schema/qudt/Unit>,
        <http://www.ontology-of-units-of-measure.org/resource/om-2/Unit>,
        rdfs:Resource ;
    rdfs:label "Some unit"@en .

<file:///workspaces/csvcubed/out/some-title.csv#component/attribute-1> a qb:ComponentSet,
        qb:ComponentSpecification,
        rdfs:Resource ;
    qb:attribute <file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1> ;
    qb:componentProperty <file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1> ;
    qb:componentRequired false ;
    qb:order 6 .

<file:///workspaces/csvcubed/out/some-title.csv#component/dimension-1> a qb:ComponentSet,
        qb:ComponentSpecification,
        rdfs:Resource ;
    qb:componentProperty <file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-1> ;
    qb:dimension <file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-1> ;
    qb:order 1 .

<file:///workspaces/csvcubed/out/some-title.csv#component/dimension-2> a qb:ComponentSet,
        qb:ComponentSpecification,
        rdfs:Resource ;
    qb:componentProperty <file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-2> ;
    qb:dimension <file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-2> ;
    qb:order 2 .

<file:///workspaces/csvcubed/out/some-title.csv#component/measure-type> a qb:ComponentSet,
        qb:ComponentSpecification,
        rdfs:Resource ;
    qb:componentProperty qb:measureType ;
    qb:dimension qb:measureType ;
    qb:order 3 .

<file:///workspaces/csvcubed/out/some-title.csv#component/some-measure> a qb:ComponentSet,
        qb:ComponentSpecification,
        rdfs:Resource ;
    qb:componentProperty <file:///workspaces/csvcubed/out/some-title.csv#measure/some-measure> ;
    qb:measure <file:///workspaces/csvcubed/out/some-title.csv#measure/some-measure> ;
    qb:order 5 .

<file:///workspaces/csvcubed/out/some-title.csv#component/unit> a qb:ComponentSet,
        qb:ComponentSpecification,
        rdfs:Resource ;
    qb:attribute <http://purl.org/linked-data/sdmx/2009/attribute#unitMeasure> ;
    qb:componentProperty <http://purl.org/linked-data/sdmx/2009/attribute#unitMeasure> ;
    qb:componentRequired true ;
    qb:order 4 .

<file:///workspaces/csvcubed/out/some-title.csv#csvqb> a qb:Attachable,
        qb:DataSet,
        rdfs:Resource,
        dcat:Distribution,
        dcat:Resource ;
    rdfs:label "Some title"@en ;
    dcterms:created "2022-04-08T00:00:00"^^xsd:dateTime ;
    dcterms:creator <https://www.gov.uk/government/organisations/office-for-national-statistics> ;
    dcterms:identifier "Some title" ;
    dcterms:issued "2022-04-08T00:00:00"^^xsd:dateTime ;
    dcterms:title "Some title"@en ;
    qb:structure <file:///workspaces/csvcubed/out/some-title.csv#structure> ;
    rdfs:seeAlso <file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1/estimated>,
        <file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1/final>,
        <file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1/provisional>,
        <file:///workspaces/csvcubed/out/some-title.csv#class/dimension-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#class/dimension-2>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/attribute-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/dimension-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/dimension-2>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/measure-type>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/some-measure>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/unit>,
        <file:///workspaces/csvcubed/out/some-title.csv#csvcubed-build-activity>,
        <file:///workspaces/csvcubed/out/some-title.csv#csvqb>,
        <file:///workspaces/csvcubed/out/some-title.csv#dataset>,
        <file:///workspaces/csvcubed/out/some-title.csv#dependency/dimension-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#dependency/dimension-2>,
        <file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-2>,
        <file:///workspaces/csvcubed/out/some-title.csv#measure/some-measure>,
        <file:///workspaces/csvcubed/out/some-title.csv#slice/cross-measures>,
        <file:///workspaces/csvcubed/out/some-title.csv#structure>,
        <file:///workspaces/csvcubed/out/some-title.csv#unit/some-unit>,
        <https://github.com/GSS-Cogs/csvcubed/releases/tag/v0.1.0.dev0> ;
    csvw:table [ csvw:tableSchema [ csvw:aboutUrl "some-title.csv#slice/{dim1},{dim2}"^^csvw:uriTemplate ;
                    csvw:column ( [ csvw:name "dim1" ;
                                csvw:propertyUrl "some-title.csv#dimension/dimension-1"^^csvw:uriTemplate ;
                                csvw:required true ;
                                csvw:title "Dim1" ;
                                csvw:valueUrl "dimension-1.csv#{+dim1}"^^csvw:uriTemplate ] [ csvw:name "dim2" ;
                                csvw:propertyUrl "some-title.csv#dimension/dimension-2"^^csvw:uriTemplate ;
                                csvw:required true ;
                                csvw:title "Dim2" ;
                                csvw:valueUrl "dimension-2.csv#{+dim2}"^^csvw:uriTemplate ] [ csvw:aboutUrl "some-title.csv#obs/{dim1},{dim2}@some-measure"^^csvw:uriTemplate ;
                                csvw:datatype xsd:int ;
                                csvw:name "val" ;
                                csvw:propertyUrl "some-title.csv#measure/some-measure"^^csvw:uriTemplate ;
                                csvw:required false ;
                                csvw:title "Val" ] [ csvw:aboutUrl "some-title.csv#obs/{dim1},{dim2}@some-measure"^^csvw:uriTemplate ;
                                csvw:name "attr1" ;
                                csvw:propertyUrl "some-title.csv#attribute/attribute-1"^^csvw:uriTemplate ;
                                csvw:required false ;
                                csvw:title "Attr1" ;
                                csvw:valueUrl "some-title.csv#attribute/attribute-1/{+attr1}"^^csvw:uriTemplate ] [ csvw:name "virt_slice" ;
                                csvw:propertyUrl "rdf:type"^^csvw:uriTemplate ;
                                csvw:valueUrl "qb:Slice"^^csvw:uriTemplate ;
                                csvw:virtual true ] [ csvw:name "virt_slice_structure" ;
                                csvw:propertyUrl "qb:sliceStructure"^^csvw:uriTemplate ;
                                csvw:valueUrl "some-title.csv#slice/cross-measures"^^csvw:uriTemplate ;
                                csvw:virtual true ] [ csvw:name "virt_obs_val" ;
                                csvw:propertyUrl "qb:observation"^^csvw:uriTemplate ;
                                csvw:valueUrl "some-title.csv#obs/{dim1},{dim2}@some-measure"^^csvw:uriTemplate ;
                                csvw:virtual true ] [ csvw:aboutUrl "some-title.csv#obs/{dim1},{dim2}@some-measure"^^csvw:uriTemplate ;
                                csvw:name "virt_obs_val_meas" ;
                                csvw:propertyUrl "qb:measureType"^^csvw:uriTemplate ;
                                csvw:valueUrl "some-title.csv#measure/some-measure"^^csvw:uriTemplate ;
                                csvw:virtual true ] [ csvw:aboutUrl "some-title.csv#obs/{dim1},{dim2}@some-measure"^^csvw:uriTemplate ;
                                csvw:name "virt_obs_val_unit" ;
                                csvw:propertyUrl "http://purl.org/linked-data/sdmx/2009/attribute#unitMeasure"^^csvw:uriTemplate ;
                                csvw:valueUrl "some-title.csv#unit/some-unit"^^csvw:uriTemplate ;
                                csvw:virtual true ] [ csvw:aboutUrl "some-title.csv#obs/{dim1},{dim2}@some-measure"^^csvw:uriTemplate ;
                                csvw:name "virt_dim_val_dim1" ;
                                csvw:propertyUrl "some-title.csv#dimension/dimension-1"^^csvw:uriTemplate ;
                                csvw:valueUrl "dimension-1.csv#{+dim1}"^^csvw:uriTemplate ;
                                csvw:virtual true ] [ csvw:aboutUrl "some-title.csv#obs/{dim1},{dim2}@some-measure"^^csvw:uriTemplate ;
                                csvw:name "virt_dim_val_dim2" ;
                                csvw:propertyUrl "some-title.csv#dimension/dimension-2"^^csvw:uriTemplate ;
                                csvw:valueUrl "dimension-2.csv#{+dim2}"^^csvw:uriTemplate ;
                                csvw:virtual true ] [ csvw:aboutUrl "some-title.csv#obs/{dim1},{dim2}@some-measure"^^csvw:uriTemplate ;
                                csvw:name "virt_obs_val_type" ;
                                csvw:propertyUrl "rdf:type"^^csvw:uriTemplate ;
                                csvw:valueUrl "qb:Observation"^^csvw:uriTemplate ;
                                csvw:virtual true ] [ csvw:aboutUrl "some-title.csv#obs/{dim1},{dim2}@some-measure"^^csvw:uriTemplate ;
                                csvw:name "virt_dataSet_val" ;
                                csvw:propertyUrl "qb:dataSet"^^csvw:uriTemplate ;
                                csvw:valueUrl "some-title.csv#csvqb"^^csvw:uriTemplate ;
                                csvw:virtual true ] ) ;
                    csvw:foreignKey [ csvw:columnReference ( "dim2" ) ;
                            csvw:reference [ csvw:columnReference ( "uri_identifier" ) ;
                                    csvw:resource "dimension-2.csv"^^xsd:anyURI ] ],
                        [ csvw:columnReference ( "dim1" ) ;
                            csvw:reference [ csvw:columnReference ( "uri_identifier" ) ;
                                    csvw:resource "dimension-1.csv"^^xsd:anyURI ] ] ;
                    csvw:primaryKey "dim1",
                        "dim2" ] ;
            csvw:url "some-title.csv"^^xsd:anyURI ],
        [ csvw:suppressOutput true ;
            csvw:tableSchema <file:///workspaces/csvcubed/out/dimension-2.table.json> ;
            csvw:url "dimension-2.csv"^^xsd:anyURI ],
        [ csvw:suppressOutput true ;
            csvw:tableSchema <file:///workspaces/csvcubed/out/dimension-1.table.json> ;
            csvw:url "dimension-1.csv"^^xsd:anyURI ] ;
    dcat:isDistributionOf <file:///workspaces/csvcubed/out/some-title.csv#dataset> ;
    prov:wasDerivedFrom <https://github.com/GSS-Cogs/csvcubed/releases/tag/v0.1.0.dev0> ;
    prov:wasGeneratedBy <file:///workspaces/csvcubed/out/some-title.csv#csvcubed-build-activity> .

<file:///workspaces/csvcubed/out/some-title.csv#dataset> a rdfs:Resource,
        dcat:Dataset,
        dcat:Resource ;
    rdfs:label "Some title"@en ;
    dcterms:creator <https://www.gov.uk/government/organisations/office-for-national-statistics> ;
    dcterms:description "Some description"^^<https://www.w3.org/ns/iana/media-types/text/markdown#Resource> ;
    dcterms:identifier "Some title" ;
    dcterms:issued "2022-04-08T00:00:00"^^xsd:dateTime ;
    dcterms:license <https://creativecommons.org/licenses/by/4.0/> ;
    dcterms:modified "2022-04-08T00:00:00"^^xsd:dateTime ;
    dcterms:publisher <https://www.gov.uk/government/organisations/office-for-national-statistics> ;
    dcterms:title "Some title"@en ;
    rdfs:comment "Some summary"@en ;
    dcat:distribution <file:///workspaces/csvcubed/out/some-title.csv#csvqb> .

<file:///workspaces/csvcubed/out/some-title.csv#slice/cross-measures> a qb:ComponentSet,
        qb:SliceKey,
        rdfs:Resource ;
    qb:componentProperty <file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-2> .

<file:///workspaces/csvcubed/out/some-title.csv#structure> a qb:ComponentSet,
        qb:DataStructureDefinition,
        rdfs:Resource ;
    qb:component <file:///workspaces/csvcubed/out/some-title.csv#component/attribute-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/dimension-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/dimension-2>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/measure-type>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/some-measure>,
        <file:///workspaces/csvcubed/out/some-title.csv#component/unit> ;
    qb:componentProperty <file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-1>,
        <file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-2>,
        <file:///workspaces/csvcubed/out/some-title.csv#measure/some-measure>,
        qb:measureType,
        <http://purl.org/linked-data/sdmx/2009/attribute#unitMeasure> ;
    qb:sliceKey <file:///workspaces/csvcubed/out/some-title.csv#slice/cross-measures> .

<file:///workspaces/csvcubed/out/some-title.csv#csvcubed-build-activity> a rdfs:Resource,
        prov:Activity ;
    prov:used <https://github.com/GSS-Cogs/csvcubed/releases/tag/v0.1.0.dev0> .

<https://github.com/GSS-Cogs/csvcubed/releases/tag/v0.1.0.dev0> a rdfs:Resource,
        prov:Entity ;
    prov:wasGeneratedBy <file:///workspaces/csvcubed/out/some-title.csv#csvcubed-build-activity> .

<file:///workspaces/csvcubed/out/some-title.csv#attribute/attribute-1> a qb:AttributeProperty,
        qb:ComponentProperty,
        rdf:Property,
        rdfs:Resource ;
    rdfs:label "Attribute 1"@en ;
    rdfs:subPropertyOf <http://purl.org/linked-data/sdmx/2009/attribute#obsStatus> .

<file:///workspaces/csvcubed/out/some-title.csv#measure/some-measure> a qb:ComponentProperty,
        qb:MeasureProperty,
        rdf:Property,
        rdfs:Resource ;
    rdfs:label "Some measure"@en ;
    rdfs:range xsd:int .

<file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-1> a qb:CodedProperty,
        qb:ComponentProperty,
        qb:DimensionProperty,
        rdf:Property,
        rdfs:Resource ;
    rdfs:label "Dimension 1"@en ;
    qb:codeList <file:///workspaces/csvcubed/out/dimension-1.csv#code-list> ;
    rdfs:range <file:///workspaces/csvcubed/out/some-title.csv#class/dimension-1> .

<file:///workspaces/csvcubed/out/some-title.csv#dimension/dimension-2> a qb:CodedProperty,
        qb:ComponentProperty,
        qb:DimensionProperty,
        rdf:Property,
        rdfs:Resource ;
    rdfs:label "Dimension 2"@en ;
    qb:codeList <file:///workspaces/csvcubed/out/dimension-2.csv#code-list> ;
    rdfs:range <file:///workspaces/csvcubed/out/some-title.csv#class/dimension-2> .
